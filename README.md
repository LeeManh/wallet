# ğŸ’³ Há»‡ thá»‘ng ÄÄƒng nháº­p vÃ  Quáº£n lÃ½ VÃ­ Äiá»ƒm ThÆ°á»Ÿng

## ğŸ“‹ Má»¥c lá»¥c

- [Giá»›i thiá»‡u dá»± Ã¡n](#-giá»›i-thiá»‡u-dá»±-Ã¡n)
- [ThÃ nh viÃªn dá»± Ã¡n](#-thÃ nh-viÃªn-dá»±-Ã¡n)
- [PhÃ¢n tÃ­ch vÃ  Ä‘áº·c táº£ chá»©c nÄƒng](#-phÃ¢n-tÃ­ch-vÃ -Ä‘áº·c-táº£-chá»©c-nÄƒng)
- [TÃ­nh nÄƒng chÃ­nh](#-tÃ­nh-nÄƒng-chÃ­nh)
- [Kiáº¿n trÃºc há»‡ thá»‘ng](#ï¸-kiáº¿n-trÃºc-há»‡-thá»‘ng)
- [CÃ´ng nghá»‡ sá»­ dá»¥ng](#ï¸-cÃ´ng-nghá»‡-sá»­-dá»¥ng)
- [CÃ i Ä‘áº·t vÃ  cháº¡y](#-cÃ i-Ä‘áº·t-vÃ -cháº¡y)
- [Sá»­ dá»¥ng](#-sá»­-dá»¥ng)
- [Cáº¥u trÃºc dá»± Ã¡n](#-cáº¥u-trÃºc-dá»±-Ã¡n)
- [Báº£o máº­t](#-báº£o-máº­t)
- [TÃ i liá»‡u tham kháº£o](#-tÃ i-liá»‡u-tham-kháº£o)

## ğŸ¯ Giá»›i thiá»‡u dá»± Ã¡n

Há»‡ thá»‘ng ÄÄƒng nháº­p vÃ  Quáº£n lÃ½ VÃ­ Äiá»ƒm ThÆ°á»Ÿng lÃ  má»™t á»©ng dá»¥ng console Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng C++ nháº±m quáº£n lÃ½ tÃ i khoáº£n ngÆ°á»i dÃ¹ng vÃ  há»‡ thá»‘ng vÃ­ Ä‘iá»ƒm thÆ°á»Ÿng. Dá»± Ã¡n nÃ y cho phÃ©p ngÆ°á»i dÃ¹ng Ä‘Äƒng kÃ½, Ä‘Äƒng nháº­p, quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n vÃ  thá»±c hiá»‡n cÃ¡c giao dá»‹ch chuyá»ƒn Ä‘iá»ƒm giá»¯a cÃ¡c vÃ­ má»™t cÃ¡ch an toÃ n vÃ  hiá»‡u quáº£.

### ğŸª Má»¥c tiÃªu dá»± Ã¡n

- XÃ¢y dá»±ng há»‡ thá»‘ng quáº£n lÃ½ tÃ i khoáº£n ngÆ°á»i dÃ¹ng vá»›i báº£o máº­t cao
- Triá»ƒn khai cÆ¡ cháº¿ vÃ­ Ä‘iá»ƒm thÆ°á»Ÿng giao dá»‹ch
- Ãp dá»¥ng xÃ¡c thá»±c OTP cho cÃ¡c giao dá»‹ch quan trá»ng
- Thá»±c hiá»‡n quáº£n lÃ½ vai trÃ² ngÆ°á»i dÃ¹ng (User/Admin)
- Äáº£m báº£o tÃ­nh toÃ n váº¹n dá»¯ liá»‡u trong cÃ¡c giao dá»‹ch chuyá»ƒn Ä‘iá»ƒm

## ğŸ‘¥ ThÃ nh viÃªn dá»± Ã¡n


### ğŸ‘¨â€ğŸ’» Danh sÃ¡ch thÃ nh viÃªn

#### 1. **LÃŠ VÄ‚N Máº NH** (K25DTCN137) â€” NhÃ³m trÆ°á»Ÿng
**CÃ´ng viá»‡c:**
- Quáº£n lÃ½ Ä‘Äƒng nháº­p:
   - ÄÄƒng nháº­p vÃ  Ä‘Äƒng kÃ­
   - Sinh máº­t kháº©u tá»± Ä‘á»™ng khi Ä‘Äƒng kÃ½ hoáº·c do admin táº¡o
   - Thay Ä‘á»•i máº­t kháº©u vá»›i xÃ¡c thá»±c OTP
   - XÃ¡c thá»±c Ä‘Äƒng nháº­p báº±ng bcrypt
- Quáº£n lÃ½ hoáº¡t Ä‘á»™ng vÃ­:
   - Táº¡o vÃ­ cho user má»›i, quáº£n lÃ½ vÃ­ há»‡ thá»‘ng
   - Äáº£m báº£o cÃ¡c giao dá»‹ch tuÃ¢n thá»§ nguyÃªn táº¯c ACID (atomic, rollback náº¿u lá»—i)
   - Ghi log giao dá»‹ch, cáº­p nháº­t tráº¡ng thÃ¡i giao dá»‹ch
- Báº£o máº­t:
   - Thiáº¿t láº­p há»‡ thá»‘ng OTP

#### 2. **NGÃ” PHÆ¯Æ NG CHI.** (K25DTCN130) â€” ThÃ nh viÃªn
**CÃ´ng viá»‡c:**
- Quáº£n lÃ½ thÃ´ng tin ngÆ°á»i dÃ¹ng:
   - Chá»©c nÄƒng ngÆ°á»i dÃ¹ng tá»± cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n
   - Validate input khi Ä‘Äƒng nháº­p vÃ  Ä‘Äƒng kÃ½
- TÃ i liá»‡u vÃ  chÃº thÃ­ch:
   - LÃ m chÃº thÃ­ch cho cÃ¡c pháº§n: views, utils, exceptions, controllers
   - LÃ m tÃ i liá»‡u dá»± Ã¡n
- Thiáº¿t káº¿ database

#### 3. **Äá»– THANH HÃ€** (K25DTCN152) â€” ThÃ nh viÃªn
**CÃ´ng viá»‡c:**
- Quáº£n lÃ½ dá»¯ liá»‡u vÃ  hiá»ƒn thá»‹:
   - Hiá»ƒn thá»‹ vÃ  format báº£ng user
   - Seed data khi khá»Ÿi táº¡o project láº§n Ä‘áº§u
- TÃ i liá»‡u vÃ  chÃº thÃ­ch:
   - LÃ m chÃº thÃ­ch cho cÃ¡c pháº§n: seeds, services, models
   - LÃ m hÆ°á»›ng dáº«n setup project
- Kiá»ƒm thá»­ pháº§n má»m

#### 4. **VÅ¨ THá»Š LAN PHÆ¯Æ NG** (K25DTCN187) â€” ThÃ nh viÃªn
**CÃ´ng viá»‡c:**
- Quáº£n lÃ½ lá»‹ch sá»­ vÃ  backup:
   - Chá»©c nÄƒng lá»‹ch sá»­ giao dá»‹ch cho vÃ­ User vÃ  tra cá»©u lá»‹ch sá»­ giao dá»‹ch cho admin
   - Backup data, lá»‹ch sá»­ backup
   - Restore data Ä‘Ã£ backup trong ds lá»‹ch sá»­
   - Restore data theo link, file data copy
- Há»— trá»£ há»‡ thá»‘ng:
   - Chá»©c nÄƒng há»— trá»£ hiá»ƒn tiáº¿ng Viá»‡t cho win

## ğŸ“Š PhÃ¢n tÃ­ch vÃ  Ä‘áº·c táº£ chá»©c nÄƒng

### ğŸ¯ YÃªu cáº§u chá»©c nÄƒng

#### A.1 Táº¡o má»›i tÃ i khoáº£n khi Ä‘Äƒng kÃ½

- **MÃ´ táº£**: Há»‡ thá»‘ng cho phÃ©p táº¡o tÃ i khoáº£n ngÆ°á»i dÃ¹ng má»›i
- **Input**: Username, email, fullName, password (tÃ¹y chá»n)
- **Output**: TÃ i khoáº£n má»›i Ä‘Æ°á»£c táº¡o vá»›i vÃ­ Ä‘iá»ƒm tÆ°Æ¡ng á»©ng
- **Business Rules**:
  - Username pháº£i duy nháº¥t trong há»‡ thá»‘ng
  - Email pháº£i há»£p lá»‡ vÃ  duy nháº¥t
  - Náº¿u khÃ´ng cÃ³ password, há»‡ thá»‘ng tá»± Ä‘á»™ng sinh máº­t kháº©u
  - Tá»± Ä‘á»™ng táº¡o vÃ­ Ä‘iá»ƒm vá»›i sá»‘ dÆ° ban Ä‘áº§u = 0

#### A.2 LÆ°u trá»¯ dá»¯ liá»‡u

- **Giáº£i phÃ¡p**: Sá»­ dá»¥ng file JSON cho tá»«ng loáº¡i dá»¯ liá»‡u
  - `users.json`: ThÃ´ng tin tÃ i khoáº£n ngÆ°á»i dÃ¹ng
  - `wallets.json`: ThÃ´ng tin vÃ­ Ä‘iá»ƒm
  - `transactions.json`: Lá»‹ch sá»­ giao dá»‹ch
  - `otps.json`: MÃ£ OTP táº¡m thá»i
- **LÃ½ do**:
  - ÄÆ¡n giáº£n, khÃ´ng cáº§n database server
  - Dá»… backup vÃ  phá»¥c há»“i
  - PhÃ¹ há»£p vá»›i scope dá»± Ã¡n há»c táº­p
- **Báº£o máº­t máº­t kháº©u**: Sá»­ dá»¥ng bcrypt hash vá»›i salt

#### A.3 Quáº£n lÃ½ Ä‘Äƒng nháº­p

- **A.3.1 Sinh máº­t kháº©u tá»± Ä‘á»™ng**: Táº¡o password ngáº«u nhiÃªn 8 kÃ½ tá»±
- **A.3.2 Thay Ä‘á»•i máº­t kháº©u**: YÃªu cáº§u OTP xÃ¡c thá»±c
- **A.3.3 OTP System**:
  - MÃ£ 6 sá»‘, thá»i gian sá»‘ng 5 phÃºt
  - Sá»­ dá»¥ng cho: thay Ä‘á»•i thÃ´ng tin, giao dá»‹ch chuyá»ƒn Ä‘iá»ƒm
- **A.3.4 XÃ¡c thá»±c Ä‘Äƒng nháº­p**: Username/password vá»›i bcrypt verify

#### B. PhÃ¢n quyá»n ngÆ°á»i dÃ¹ng

- **User Role**: Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n, giao dá»‹ch Ä‘iá»ƒm trong vÃ­
- **Admin Role**: + Quáº£n lÃ½ toÃ n bá»™ ngÆ°á»i dÃ¹ng, thá»‘ng kÃª há»‡ thá»‘ng

#### C. Quáº£n lÃ½ hoáº¡t Ä‘á»™ng vÃ­

- **Cáº¥u trÃºc vÃ­**: Má»—i user cÃ³ 1 vÃ­, cÃ³ System wallet
- **Giao dá»‹ch ACID**:
  1. Validate (sá»‘ dÆ°, vÃ­ tá»“n táº¡i)
  2. Create transaction record (PENDING)
  3. OTP verification
  4. Atomic transfer (rollback náº¿u lá»—i)
  5. Update transaction status (SUCCESS/FAILED)

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ” A. Quáº£n lÃ½ TÃ i khoáº£n vÃ  XÃ¡c thá»±c

1. **ÄÄƒng kÃ½ tÃ i khoáº£n**

   - ÄÄƒng kÃ½ tá»± do cho ngÆ°á»i dÃ¹ng
   - Admin cÃ³ thá»ƒ táº¡o tÃ i khoáº£n há»™ ngÆ°á»i dÃ¹ng
   - Tá»± Ä‘á»™ng sinh máº­t kháº©u cho tÃ i khoáº£n Ä‘Æ°á»£c táº¡o bá»Ÿi admin

2. **ÄÄƒng nháº­p vÃ  báº£o máº­t**

   - XÃ¡c thá»±c báº±ng username/password
   - Máº­t kháº©u Ä‘Æ°á»£c mÃ£ hÃ³a báº±ng hÃ m bÄƒm (bcrypt)
   - YÃªu cáº§u Ä‘á»•i máº­t kháº©u cho tÃ i khoáº£n cÃ³ máº­t kháº©u tá»± Ä‘á»™ng

3. **XÃ¡c thá»±c OTP (One-Time Password)**
   - Báº£o máº­t hai lá»›p cho cÃ¡c thao tÃ¡c quan trá»ng
   - OTP cho thay Ä‘á»•i thÃ´ng tin cÃ¡ nhÃ¢n
   - OTP cho xÃ¡c nháº­n giao dá»‹ch chuyá»ƒn Ä‘iá»ƒm

### ğŸ‘¥ B. PhÃ¢n quyá»n NgÆ°á»i dÃ¹ng

#### ğŸ™‹â€â™‚ï¸ NgÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng

- Xem vÃ  chá»‰nh sá»­a thÃ´ng tin cÃ¡ nhÃ¢n
- Xem sá»‘ dÆ° vÃ­ Ä‘iá»ƒm
- Thá»±c hiá»‡n giao dá»‹ch chuyá»ƒn Ä‘iá»ƒm
- Xem lá»‹ch sá»­ giao dá»‹ch
- Thay Ä‘á»•i máº­t kháº©u vá»›i xÃ¡c thá»±c OTP

#### ğŸ‘¨â€ğŸ’¼ NgÆ°á»i quáº£n lÃ½ (Admin)

- Táº¥t cáº£ chá»©c nÄƒng cá»§a ngÆ°á»i dÃ¹ng thÃ´ng thÆ°á»ng
- Xem danh sÃ¡ch táº¥t cáº£ ngÆ°á»i dÃ¹ng
- Táº¡o tÃ i khoáº£n má»›i cho ngÆ°á»i dÃ¹ng
- Chá»‰nh sá»­a thÃ´ng tin ngÆ°á»i dÃ¹ng (vá»›i xÃ¡c nháº­n OTP tá»« chá»§ tÃ i khoáº£n)
- Xem thá»‘ng kÃª há»‡ thá»‘ng vÃ  danh sÃ¡ch vÃ­
- Backup vÃ  phá»¥c há»“i dá»¯ liá»‡u

### ğŸ’° C. Quáº£n lÃ½ VÃ­ Äiá»ƒm ThÆ°á»Ÿng

1. **Cáº¥u trÃºc vÃ­**

   - Má»—i ngÆ°á»i dÃ¹ng cÃ³ má»™t vÃ­ duy nháº¥t
   - VÃ­ há»‡ thá»‘ng (System Wallet) lÃ  nguá»“n Ä‘iá»ƒm chÃ­nh
   - MÃ£ Ä‘á»‹nh danh vÃ­ duy nháº¥t cho toÃ n há»‡ thá»‘ng

2. **Giao dá»‹ch chuyá»ƒn Ä‘iá»ƒm**

   - Chuyá»ƒn Ä‘iá»ƒm giá»¯a cÃ¡c vÃ­ ngÆ°á»i dÃ¹ng
   - Kiá»ƒm tra sá»‘ dÆ° trÆ°á»›c khi thá»±c hiá»‡n giao dá»‹ch
   - Äáº£m báº£o tÃ­nh atomic cá»§a giao dá»‹ch (ACID principles)
   - Ghi log giao dá»‹ch cho má»i hoáº¡t Ä‘á»™ng

3. **BÃ¡o cÃ¡o vÃ  thá»‘ng kÃª**
   - Theo dÃµi sá»‘ dÆ° vÃ­ cÃ¡ nhÃ¢n
   - Lá»‹ch sá»­ giao dá»‹ch chi tiáº¿t 
   - Thá»‘ng kÃª tá»•ng quan há»‡ thá»‘ng (Admin)

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

Dá»± Ã¡n Ä‘Æ°á»£c thiáº¿t káº¿ theo mÃ´ hÃ¬nh **Service-Oriented Layered Architecture**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 VIEWS                   â”‚ â† Presentation Layer
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              CONTROLLERS                â”‚ â† Application Layer
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               SERVICES                  â”‚ â† Business Logic Layer
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                MODELS                   â”‚ â† Data Transfer Objects
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               STORAGE                   â”‚ â† Data Access Layer
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“¦ CÃ¡c thÃ nh pháº§n chÃ­nh:

- **Models**: Data Transfer Objects (User, Wallet, Transaction, OTP)
- **Services**: Business logic vÃ  xá»­ lÃ½ dá»¯ liá»‡u
- **Controllers**: Äiá»u phá»‘i giá»¯a View vÃ  Service
- **Views**: Giao diá»‡n ngÆ°á»i dÃ¹ng (Console UI)
- **Utils**: CÃ¡c tiá»‡n Ã­ch (Hash, Storage, Validation, Format)

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

- **NgÃ´n ngá»¯**: C++17
- **Build System**: CMake
- **ThÆ° viá»‡n JSON**: nlohmann/json
- **MÃ£ hÃ³a máº­t kháº©u**: bcrypt (libbcrypt)
- **OTP Generation**: libcotp
- **File System**: JSON files cho data persistence
- **Testing**: Manual testing vá»›i sample data

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y

### YÃªu cáº§u há»‡ thá»‘ng

- **Git**: Há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n Ä‘á»ƒ clone vÃ  quáº£n lÃ½ mÃ£ nguá»“n
- **CMake** (phiÃªn báº£n 3.10 trá»Ÿ lÃªn): CÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a quÃ¡ trÃ¬nh build project
- **TrÃ¬nh biÃªn dá»‹ch C++**:
  - **Windows**: MSVC (Ä‘i kÃ¨m vá»›i Visual Studio)
  - **macOS**: Clang (Ä‘i kÃ¨m vá»›i Xcode Command Line Tools)
  - **Linux**: GCC/G++ (thÆ°á»ng cÃ³ sáºµn hoáº·c cÃ i qua package manager)
- **Visual Studio Code**: Vá»›i extension C/C++ Ä‘á»ƒ cÃ³ tráº£i nghiá»‡m code tá»‘t nháº¥t

### HÆ°á»›ng dáº«n cÃ i Ä‘áº·t

#### ğŸ **macOS**

```bash
# 1. CÃ i Ä‘áº·t Xcode Command Line Tools
xcode-select --install

# 2. CÃ i Ä‘áº·t Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 3. CÃ i Ä‘áº·t CMake
brew install cmake

# 4. Clone project vÃ  dependencies
git clone https://github.com/LeeManh/wallet.git
cd wallet
git submodule update --init --recursive

# 5. Build project
mkdir build && cd build
cmake .. && make

# 6. Cháº¡y á»©ng dá»¥ng
./bin/wallet
```

#### ğŸªŸ **Windows**

```bash
# 1. CÃ i Ä‘áº·t Visual Studio vá»›i workload "Desktop development with C++"
# 2. Clone project (Git Bash hoáº·c Command Prompt)
git clone https://github.com/LeeManh/wallet.git
cd wallet
git submodule update --init --recursive

# 3. Build project (Developer Command Prompt for VS)
mkdir build && cd build
cmake .. && cmake --build .

# 4. Cháº¡y á»©ng dá»¥ng
# Kiá»ƒm tra file executable Ä‘Æ°á»£c táº¡o á»Ÿ Ä‘Ã¢u:
dir /s wallet.exe

# ThÆ°á»ng sáº½ náº±m trong:
cd bin && wallet.exe
# Hoáº·c: cd Debug && wallet.exe
# Hoáº·c: cd Release && wallet.exe
```

#### ğŸ§ **Linux/Ubuntu**

```bash
# 1. CÃ i Ä‘áº·t dependencies
sudo apt update
sudo apt install build-essential cmake git libgcrypt20-dev

# 2. Clone project
git clone https://github.com/LeeManh/wallet.git
cd wallet
git submodule update --init --recursive

# 3. Build project
mkdir build && cd build
cmake .. && make

# 4. Cháº¡y á»©ng dá»¥ng
./bin/wallet
```

#### ğŸ› ï¸ **WSL (Windows Subsystem for Linux)**

```bash
# 1. CÃ i Ä‘áº·t WSL vÃ  Ubuntu
wsl --install

# 2. Setup mÃ´i trÆ°á»ng (trong WSL)
sudo apt update
sudo apt install libgcrypt20-dev cmake g++ make

# 3. Táº¡o SSH key cho GitHub (tuá»³ chá»n)
ssh-keygen -t ed25519 -C "your_email@example.com"

# 4. Clone vÃ  build (tÆ°Æ¡ng tá»± Linux)
git clone https://github.com/LeeManh/wallet.git
cd wallet && git submodule update --init --recursive
mkdir build && cd build && cmake .. && make

# 5. Cháº¡y
./bin/wallet
```

### âš ï¸ Xá»­ lÃ½ lá»—i thÆ°á»ng gáº·p

#### ğŸ” Lá»—i quyá»n truy cáº­p (Permission denied)

**Triá»‡u chá»©ng:** `Permission denied` khi cháº¡y `./bin/wallet`

```bash
# Kiá»ƒm tra thÆ° má»¥c data cÃ³ tá»“n táº¡i vÃ  cÃ³ quyá»n ghi khÃ´ng
ls -la data/
mkdir -p data && chmod 755 data

# Test quyá»n ghi
touch data/test.txt && rm data/test.txt

# Náº¿u váº«n lá»—i, thay Ä‘á»•i quyá»n sá»Ÿ há»¯u
sudo chown $USER:$USER data/
sudo chown $USER:$USER build/

# TrÃªn macOS, náº¿u váº«n lá»—i vá»›i Gatekeeper:
sudo spctl --master-disable  # (táº¡m thá»i)
```

#### ğŸš« Lá»—i CMake khÃ´ng tÃ¬m tháº¥y compiler

**Triá»‡u chá»©ng:** `No CMAKE_CXX_COMPILER could be found`

```bash
# macOS: CÃ i Ä‘áº·t Xcode Command Line Tools
xcode-select --install
# Kiá»ƒm tra: gcc --version

# Linux: CÃ i Ä‘áº·t build-essential
sudo apt update && sudo apt install build-essential
# Kiá»ƒm tra: gcc --version

# Windows: CÃ i Visual Studio vá»›i C++ workload
# Äáº£m báº£o cháº¡y tá»« "Developer Command Prompt for VS"
```

#### ğŸ“š Lá»—i missing dependencies/submodules

**Triá»‡u chá»©ng:** `fatal: No such file or directory` vá»›i cÃ¡c thÆ° viá»‡n trong `deps/`

```bash
# Kiá»ƒm tra submodules Ä‘Ã£ Ä‘Æ°á»£c táº£i chÆ°a
git submodule status

# Náº¿u empty hoáº·c cÃ³ dáº¥u '-', táº£i submodules:
git submodule update --init --recursive

# Náº¿u váº«n lá»—i, force update:
git submodule foreach --recursive git clean -xfd
git submodule foreach --recursive git reset --hard
git submodule update --init --recursive --force
```

#### ğŸ—ï¸ Lá»—i build (compilation errors)

**Triá»‡u chá»©ng:** Lá»—i compile khi cháº¡y `make`

```bash
# XÃ³a cache build vÃ  build láº¡i
rm -rf build/
mkdir build && cd build
cmake .. && make

# Náº¿u lá»—i vá»›i libcotp trÃªn macOS:
brew install libgcrypt

# Náº¿u lá»—i vá»›i bcrypt:
# Kiá»ƒm tra submodules Ä‘Ã£ Ä‘áº§y Ä‘á»§ chÆ°a
ls -la deps/libbcrypt/src/
```

#### ğŸ’» Lá»—i executable khÃ´ng cháº¡y Ä‘Æ°á»£c

**Triá»‡u chá»©ng:** `./bin/wallet: No such file or directory`

```bash
# Kiá»ƒm tra file executable cÃ³ tá»“n táº¡i khÃ´ng
ls -la build/bin/

# Náº¿u khÃ´ng cÃ³, cÃ³ thá»ƒ build chÆ°a thÃ nh cÃ´ng:
cd build && make clean && make

# Kiá»ƒm tra trong cÃ¡c thÆ° má»¥c khÃ¡c:
find build/ -name "wallet*" -type f
```

### CÃ¡c file vÃ  thÆ° viá»‡n kÃ¨m theo

#### ThÆ° viá»‡n bÃªn ngoÃ i (Git Submodules trong `deps/`):

- **nlohmann/json**: JSON parsing vÃ  serialization cho C++
- **libbcrypt**: MÃ£ hÃ³a máº­t kháº©u vá»›i bcrypt algorithm
- **libcotp**: Táº¡o vÃ  xÃ¡c thá»±c OTP codes (TOTP/HOTP)

#### Cáº¥u trÃºc file dá»¯ liá»‡u (tá»± Ä‘á»™ng táº¡o trong `data/`):

- `users.json`: Database thÃ´ng tin ngÆ°á»i dÃ¹ng
- `wallets.json`: Database vÃ­ Ä‘iá»ƒm vÃ  sá»‘ dÆ°
- `transactions.json`: Lá»‹ch sá»­ giao dá»‹ch chuyá»ƒn Ä‘iá»ƒm
- `otps.json`: Cache mÃ£ OTP táº¡m thá»i (5 phÃºt)

## ğŸ“± Sá»­ dá»¥ng

### ÄÄƒng nháº­p láº§n Ä‘áº§u

- **Admin**: username: `admin`, password: `admin123`
- **User**: Táº¡o tÃ i khoáº£n má»›i qua chá»©c nÄƒng Ä‘Äƒng kÃ½

### Luá»“ng sá»­ dá»¥ng chÃ­nh

#### ğŸ” ÄÄƒng kÃ½ tÃ i khoáº£n má»›i

1. Cháº¡y chÆ°Æ¡ng trÃ¬nh: `./wallet`
2. Chá»n `[2] ÄÄƒng kÃ½`
3. Nháº­p thÃ´ng tin: Username, Email, Há» tÃªn, Máº­t kháº©u
4. Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o vÃ­ vá»›i sá»‘ dÆ° ban Ä‘áº§u

#### ğŸ  ÄÄƒng nháº­p vÃ  sá»­ dá»¥ng

1. **ÄÄƒng nháº­p**: Chá»n `[1] ÄÄƒng nháº­p`, nháº­p username/password
2. **Menu chá»©c nÄƒng**: Há»‡ thá»‘ng hiá»ƒn thá»‹ menu theo vai trÃ² (User/Admin)
3. **Thá»±c hiá»‡n giao dá»‹ch**:
   - Xem sá»‘ dÆ°: `[1] Xem sá»‘ dÆ°`
   - Chuyá»ƒn Ä‘iá»ƒm: `[2] Chuyá»ƒn Ä‘iá»ƒm` â†’ Nháº­p ID ngÆ°á»i nháº­n â†’ XÃ¡c thá»±c OTP
   - Xem thÃ´ng tin: `[6] Xem thÃ´ng tin cÃ¡ nhÃ¢n`
4. **Admin**: ThÃªm chá»©c nÄƒng quáº£n lÃ½ ngÆ°á»i dÃ¹ng, thá»‘ng kÃª há»‡ thá»‘ng

#### ğŸ”‘ CÃ¡c thao tÃ¡c quan trá»ng (yÃªu cáº§u OTP)

- **Chuyá»ƒn Ä‘iá»ƒm**: Nháº­p sá»‘ Ä‘iá»ƒm â†’ Há»‡ thá»‘ng gá»­i OTP â†’ Nháº­p mÃ£ OTP â†’ XÃ¡c nháº­n
- **Äá»•i máº­t kháº©u**: Nháº­p máº­t kháº©u cÅ© â†’ máº­t kháº©u má»›i â†’ OTP â†’ XÃ¡c nháº­n
- **Chá»‰nh sá»­a thÃ´ng tin**: Nháº­p thÃ´ng tin má»›i â†’ OTP â†’ XÃ¡c nháº­n

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
wallet/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ README.md
â”œâ”€â”€ include/                 # Header files
â”‚   â”œâ”€â”€ controllers/        # Application controllers
â”‚   â”œâ”€â”€ models/            # Data models
â”‚   â”œâ”€â”€ services/          # Business logic services
â”‚   â”œâ”€â”€ views/             # UI components
â”‚   â”œâ”€â”€ utils/             # Utility functions
â”‚   â””â”€â”€ enums/             # Enumerations
â”œâ”€â”€ src/                    # Source files
â”‚   â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ utils/
â”‚   â””â”€â”€ main.cpp
â”œâ”€â”€ data/                   # Data storage
â”‚   â”œâ”€â”€ users.json         # User data
â”‚   â”œâ”€â”€ wallets.json       # Wallet data
â”‚   â”œâ”€â”€ transactions.json  # Transaction logs
â”‚   â””â”€â”€ otps.json          # OTP data
â””â”€â”€ deps/                   # Dependencies
    â”œâ”€â”€ json/              # nlohmann/json
    â”œâ”€â”€ libbcrypt/         # Password hashing
    â””â”€â”€ libcotp/           # OTP generation
```

## ğŸ”’ Báº£o máº­t

- **Máº­t kháº©u**: ÄÆ°á»£c mÃ£ hÃ³a báº±ng bcrypt trÆ°á»›c khi lÆ°u trá»¯
- **OTP**: Sá»­ dá»¥ng TOTP (Time-based OTP) vá»›i thá»i gian háº¿t háº¡n
- **Validation**: Kiá»ƒm tra Ä‘áº§u vÃ o nghiÃªm ngáº·t
- **Access Control**: PhÃ¢n quyá»n rÃµ rÃ ng giá»¯a User vÃ  Admin
- **Transaction Safety**: Äáº£m báº£o tÃ­nh atomic cá»§a giao dá»‹ch

## ğŸ–¼ï¸ Demo

### Giao diá»‡n menu ngÆ°á»i dÃ¹ng

![Menu User](assets/menu-user.png)

### Giao diá»‡n menu admin

![Menu Admin](assets/menu-admin.png)

## ğŸ“š TÃ i liá»‡u tham kháº£o

1. [CPP_OTP](https://github.com/patzol768/cpp-otp) - C++ OTP Implementation
2. [COTP](https://github.com/tilkinsc/COTP) - C OTP Library
3. [ACID Principles](https://200lab.io/blog/acid-la-gi/) - Database Transaction Properties
4. [nlohmann/json](https://github.com/nlohmann/json) - JSON for Modern C++
5. [bcrypt](https://github.com/hilch/Bcrypt.cpp) - Password Hashing Library
